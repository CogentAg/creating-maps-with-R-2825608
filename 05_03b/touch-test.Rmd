---
title: "Untitled"
output: html_document
date: '2022-06-07'
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Setup

This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see <http://rmarkdown.rstudio.com>.

When you click the **Knit** button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:

```{r cars}
library(tidyverse)
library(sf)
library(maps)
library(leaflet)
library(rnaturalearthdata)

brazil_sf <- countries110 %>% 
  st_as_sf() %>% 
  filter(name == "Brazil")

brazil_cities <- world.cities %>% 
  filter(country.etc == "Brazil",
         pop >= 1E6) %>% 
  st_as_sf(coords = c("long", "lat"), crs = 4326) %>% 
  arrange(desc(pop))
```

## label only

```{r}
leaflet() %>% 
  addPolygons(data = brazil_sf,
              fillColor = "darkolivegreen",
              fillOpacity = 1,
              color = "black",
              weight = 1
              ) %>% 
  addCircleMarkers(data = brazil_cities,
                   label = ~name)

```

# popup only

```{r}
leaflet() %>% 
  addPolygons(data = brazil_sf,
              fillColor = "darkolivegreen",
              fillOpacity = 1,
              color = "black",
              weight = 1
              ) %>% 
  addCircleMarkers(data = brazil_cities,
                   popup = ~paste(name, pop))

```

# both

```{r}
leaflet() %>% 
  addPolygons(data = brazil_sf,
              fillColor = "darkolivegreen",
              fillOpacity = 1,
              color = "black",
              weight = 1
              ) %>% 
  addCircleMarkers(data = brazil_cities,
                   label = ~country.etc,
                   popup = ~paste(name, pop))

```

